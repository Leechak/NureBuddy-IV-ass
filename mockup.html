
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NurseBuddy | ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</title>
  <link rel="icon" href="favicon.ico" type="image/x-icon">
  <link href="https://fonts.googleapis.com/css2?family=Sarabun:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Sarabun', sans-serif;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      min-height: 100vh;
      padding: 20px;
    }

    .mockup-container {
      max-width: 1200px;
      margin: 0 auto;
      background: rgba(255, 255, 255, 0.95);
      backdrop-filter: blur(20px);
      border-radius: 25px;
      padding: 30px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.1);
    }

    .header {
      text-align: center;
      margin-bottom: 30px;
    }

    .header h1 {
      background: linear-gradient(135deg, #8b5cf6, #6d28d9);
      -webkit-background-clip: text;
      background-clip: text;
      -webkit-text-fill-color: transparent;
      font-size: 36px;
      margin-bottom: 10px;
    }

    .header p {
      color: #64748b;
      font-size: 18px;
    }

    .mockup-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
      gap: 20px;
      margin-bottom: 30px;
    }

    .mockup-card {
      background: white;
      border-radius: 15px;
      padding: 25px;
      box-shadow: 0 10px 30px rgba(0, 0, 0, 0.1);
      border: 2px solid #e5e7eb;
      transition: all 0.3s ease;
    }

    .mockup-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 20px 40px rgba(139, 92, 246, 0.2);
      border-color: #8b5cf6;
    }

    .card-header {
      display: flex;
      align-items: center;
      gap: 12px;
      margin-bottom: 20px;
    }

    .card-icon {
      width: 40px;
      height: 40px;
      border-radius: 10px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 20px;
      background: linear-gradient(135deg, #8b5cf6, #6d28d9);
      color: white;
    }

    .card-title {
      font-size: 20px;
      font-weight: 700;
      color: #1e293b;
    }

    .mockup-controls {
      display: flex;
      flex-direction: column;
      gap: 15px;
    }

    .control-group {
      display: flex;
      flex-direction: column;
      gap: 8px;
    }

    .control-label {
      font-weight: 600;
      color: #374151;
      font-size: 14px;
    }

    .control-input {
      padding: 12px 16px;
      border: 2px solid #e5e7eb;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.3s ease;
    }

    .control-input:focus {
      border-color: #8b5cf6;
      outline: none;
      box-shadow: 0 0 0 3px rgba(139, 92, 246, 0.1);
    }

    .control-buttons {
      display: flex;
      gap: 10px;
      flex-wrap: wrap;
    }

    .control-btn {
      padding: 10px 20px;
      border: none;
      border-radius: 8px;
      font-weight: 600;
      cursor: pointer;
      transition: all 0.3s ease;
      font-size: 14px;
    }

    .control-btn.primary {
      background: linear-gradient(135deg, #8b5cf6, #6d28d9);
      color: white;
    }

    .control-btn.secondary {
      background: linear-gradient(135deg, #64748b, #475569);
      color: white;
    }

    .control-btn.success {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }

    .control-btn.warning {
      background: linear-gradient(135deg, #f59e0b, #d97706);
      color: white;
    }

    .control-btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
    }

    .mock-display {
      background: #f8fafc;
      border-radius: 10px;
      padding: 20px;
      margin-top: 15px;
      border: 2px dashed #cbd5e1;
    }

    .mock-data {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 15px;
      margin-top: 15px;
    }

    .data-item {
      background: white;
      padding: 15px;
      border-radius: 8px;
      text-align: center;
      border: 1px solid #e5e7eb;
    }

    .data-label {
      font-size: 12px;
      color: #64748b;
      font-weight: 600;
      margin-bottom: 5px;
    }

    .data-value {
      font-size: 24px;
      font-weight: 700;
      color: #1e293b;
    }

    .data-unit {
      font-size: 12px;
      color: #8b5cf6;
      font-weight: 600;
    }

    .floating-controls {
      position: fixed;
      top: 20px;
      right: 20px;
      z-index: 1000;
      display: flex;
      gap: 10px;
    }

    .float-btn {
      width: 50px;
      height: 50px;
      border-radius: 50%;
      border: none;
      cursor: pointer;
      font-size: 20px;
      box-shadow: 0 4px 15px rgba(0, 0, 0, 0.2);
      transition: all 0.3s ease;
    }

    .float-btn.home {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
    }

    .float-btn.dashboard {
      background: linear-gradient(135deg, #0ea5e9, #0284c7);
      color: white;
    }

    .float-btn:hover {
      transform: scale(1.1);
      box-shadow: 0 6px 20px rgba(0, 0, 0, 0.3);
    }

    .status-indicator {
      display: inline-block;
      width: 12px;
      height: 12px;
      border-radius: 50%;
      margin-right: 8px;
      animation: pulse 2s infinite;
    }

    .status-active {
      background: #10b981;
    }

    .status-warning {
      background: #f59e0b;
    }

    .status-critical {
      background: #ef4444;
    }

    @keyframes pulse {
      0%, 100% { opacity: 1; }
      50% { opacity: 0.5; }
    }

    @media (max-width: 768px) {
      .mockup-grid {
        grid-template-columns: 1fr;
      }
      
      .control-buttons {
        flex-direction: column;
      }
      
      .floating-controls {
        bottom: 20px;
        top: auto;
      }
    }
  </style>
</head>
<body>
  <div class="floating-controls">
    <button class="float-btn home" onclick="window.location.href='index.html'" title="‡∏Å‡∏•‡∏±‡∏ö‡∏´‡∏ô‡πâ‡∏≤‡∏´‡∏•‡∏±‡∏Å">
      üè†
    </button>
    <button class="float-btn dashboard" onclick="window.location.href='dashboard.html'" title="‡πÑ‡∏õ Dashboard">
      üìä
    </button>
  </div>

  <div class="mockup-container">
    <div class="header">
      <h1>üé≠ ‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠</h1>
      <p>Mock-up System ‡∏™‡∏≥‡∏´‡∏£‡∏±‡∏ö‡∏ó‡∏î‡∏™‡∏≠‡∏ö‡πÅ‡∏•‡∏∞‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• NurseBuddy</p>
    </div>

    <div class="mockup-grid">
      <!-- IV Flow Simulator -->
      <div class="mockup-card">
        <div class="card-header">
          <div class="card-icon">üíß</div>
          <div class="card-title">‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠</div>
        </div>
        
        <div class="mockup-controls">
          <div class="control-group">
            <label class="control-label">‡πÄ‡∏•‡∏∑‡∏≠‡∏Å‡πÄ‡∏ï‡∏µ‡∏¢‡∏á</label>
            <select class="control-input" id="mockBedSelect">
              <option value="1">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 1</option>
              <option value="2">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 2</option>
              <option value="3">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 3</option>
              <option value="4">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 4</option>
              <option value="5">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 5</option>
              <option value="6">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 6</option>
              <option value="7">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 7</option>
              <option value="8">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á 8</option>
            </select>
          </div>

          <div class="control-group">
            <label class="control-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏• (‡∏î‡∏£‡∏≠‡∏õ/‡∏ô‡∏≤‡∏ó‡∏µ)</label>
            <input type="number" class="control-input" id="mockFlowRate" value="20" min="0" max="100">
          </div>

          <div class="control-group">
            <label class="control-label">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠ (mL)</label>
            <input type="number" class="control-input" id="mockVolume" value="500" min="0" max="1000">
          </div>

          <div class="control-buttons">
            <button class="control-btn primary" onclick="startMockFlow()">
              üöÄ ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á
            </button>
            <button class="control-btn warning" onclick="pauseMockFlow()">
              ‚è∏Ô∏è ‡∏´‡∏¢‡∏∏‡∏î‡∏ä‡∏±‡πà‡∏ß‡∏Ñ‡∏£‡∏≤‡∏ß
            </button>
            <button class="control-btn secondary" onclick="stopMockFlow()">
              ‚èπÔ∏è ‡∏´‡∏¢‡∏∏‡∏î
            </button>
          </div>
        </div>

        <div class="mock-display" id="flowDisplay">
          <div style="text-align: center; color: #64748b;">
            <span class="status-indicator status-active"></span>
            <strong>‡∏û‡∏£‡πâ‡∏≠‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</strong>
          </div>
          
          <div class="mock-data" id="flowData" style="display: none;">
            <div class="data-item">
              <div class="data-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô</div>
              <div class="data-value" id="currentRate">20</div>
              <div class="data-unit">‡∏î‡∏£‡∏≠‡∏õ/‡∏ô‡∏≤‡∏ó‡∏µ</div>
            </div>
            <div class="data-item">
              <div class="data-label">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏Ñ‡∏á‡πÄ‡∏´‡∏•‡∏∑‡∏≠</div>
              <div class="data-value" id="remainingVolume">500</div>
              <div class="data-unit">mL</div>
            </div>
            <div class="data-item">
              <div class="data-label">‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠</div>
              <div class="data-value" id="timeRemaining">--</div>
              <div class="data-unit">‡∏ä‡∏±‡πà‡∏ß‡πÇ‡∏°‡∏á</div>
            </div>
            <div class="data-item">
              <div class="data-label">‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞</div>
              <div class="data-value" id="flowStatus">‡∏õ‡∏Å‡∏ï‡∏¥</div>
              <div class="data-unit">--</div>
            </div>
          </div>
        </div>
      </div>

      <!-- Patient Data Generator -->
      <div class="mockup-card">
        <div class="card-header">
          <div class="card-icon">üë§</div>
          <div class="card-title">‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</div>
        </div>
        
        <div class="mockup-controls">
          <div class="control-buttons">
            <button class="control-btn success" onclick="generateRandomPatient()">
              üé≤ ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏™‡∏∏‡πà‡∏°
            </button>
            <button class="control-btn primary" onclick="generateVitalSigns()">
              üíì ‡∏™‡∏£‡πâ‡∏≤‡∏á Vital Signs
            </button>
            <button class="control-btn warning" onclick="generateIOData()">
              üìä ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• I/O
            </button>
          </div>
        </div>

        <div class="mock-display" id="patientDisplay">
          <div style="text-align: center; color: #64748b;">
            <strong>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á</strong>
          </div>
        </div>
      </div>

      <!-- Alert Simulator -->
      <div class="mockup-card">
        <div class="card-header">
          <div class="card-icon">üö®</div>
          <div class="card-title">‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
        </div>
        
        <div class="mockup-controls">
          <div class="control-group">
            <label class="control-label">‡∏õ‡∏£‡∏∞‡πÄ‡∏†‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</label>
            <select class="control-input" id="alertType">
              <option value="normal">‡∏õ‡∏Å‡∏ï‡∏¥</option>
              <option value="warning">‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</option>
              <option value="critical">‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô</option>
            </select>
          </div>

          <div class="control-buttons">
            <button class="control-btn success" onclick="triggerMockAlert('normal')">
              üíö ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏õ‡∏Å‡∏ï‡∏¥
            </button>
            <button class="control-btn warning" onclick="triggerMockAlert('warning')">
              üíõ ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
            </button>
            <button class="control-btn primary" onclick="triggerMockAlert('critical')" style="background: linear-gradient(135deg, #ef4444, #dc2626);">
              ‚ù§Ô∏è ‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô
            </button>
          </div>
        </div>

        <div class="mock-display" id="alertDisplay">
          <div id="alertLog" style="max-height: 200px; overflow-y: auto;">
            <div style="text-align: center; color: #64748b;">
              <strong>‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</strong>
            </div>
          </div>
        </div>
      </div>

      <!-- System Control -->
      <div class="mockup-card">
        <div class="card-header">
          <div class="card-icon">‚öôÔ∏è</div>
          <div class="card-title">‡∏Ñ‡∏ß‡∏ö‡∏Ñ‡∏∏‡∏°‡∏£‡∏∞‡∏ö‡∏ö</div>
        </div>
        
        <div class="mockup-controls">
          <div class="control-buttons">
            <button class="control-btn success" onclick="saveAllMockData()">
              üíæ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á
            </button>
            <button class="control-btn warning" onclick="clearAllMockData()">
              üóëÔ∏è ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
            </button>
            <button class="control-btn secondary" onclick="exportMockData()">
              üì§ Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
            </button>
          </div>
        </div>

        <div class="mock-display">
          <div class="mock-data">
            <div class="data-item">
              <div class="data-label">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á‡∏ó‡∏µ‡πà‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô</div>
              <div class="data-value" id="activeBeds">0</div>
              <div class="data-unit">‡πÄ‡∏ï‡∏µ‡∏¢‡∏á</div>
            </div>
            <div class="data-item">
              <div class="data-label">‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</div>
              <div class="data-value" id="totalAlerts">0</div>
              <div class="data-unit">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
            </div>
            <div class="data-item">
              <div class="data-label">‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á</div>
              <div class="data-value" id="mockDataCount">0</div>
              <div class="data-unit">‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£</div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script src="System/data-manager.js"></script>
  <script>
    let mockFlowInterval = null;
    let mockAlertCount = 0;
    let mockDataCount = 0;

    // ‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡∏Å‡∏≤‡∏£‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ
    function checkMockupAccess() {
      const currentUser = JSON.parse(sessionStorage.getItem('currentUser') || 'null');
      if (!currentUser || currentUser.role !== 'mockup') {
        alert('‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏™‡∏¥‡∏ó‡∏ò‡∏¥‡πå‡πÄ‡∏Ç‡πâ‡∏≤‡πÉ‡∏ä‡πâ‡∏á‡∏≤‡∏ô‡∏£‡∏∞‡∏ö‡∏ö Mock-up');
        window.location.href = 'index.html';
        return false;
      }
      return true;
    }

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•
    function startMockFlow() {
      if (!checkMockupAccess()) return;

      const bedId = document.getElementById('mockBedSelect').value;
      const flowRate = parseInt(document.getElementById('mockFlowRate').value);
      const volume = parseInt(document.getElementById('mockVolume').value);

      if (mockFlowInterval) {
        clearInterval(mockFlowInterval);
      }

      document.getElementById('flowData').style.display = 'grid';
      let currentVolume = volume;
      let currentFlow = flowRate;

      mockFlowInterval = setInterval(() => {
        // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡πÅ‡∏õ‡∏•‡∏á‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•
        const variance = (Math.random() - 0.5) * 4; // ¬±2 ‡∏î‡∏£‡∏≠‡∏õ
        currentFlow = Math.max(0, flowRate + variance);
        
        // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ó‡∏µ‡πà‡∏•‡∏î‡∏•‡∏á
        const volumeDecrease = currentFlow * 60 / 20 / 60; // ‡πÅ‡∏õ‡∏•‡∏á‡πÄ‡∏õ‡πá‡∏ô mL/‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ
        currentVolume = Math.max(0, currentVolume - volumeDecrease);

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏Å‡∏≤‡∏£‡πÅ‡∏™‡∏î‡∏á‡∏ú‡∏•
        document.getElementById('currentRate').textContent = currentFlow.toFixed(1);
        document.getElementById('remainingVolume').textContent = Math.round(currentVolume);
        
        // ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡πÄ‡∏ß‡∏•‡∏≤‡∏ó‡∏µ‡πà‡πÄ‡∏´‡∏•‡∏∑‡∏≠
        if (currentFlow > 0) {
          const timeRemaining = currentVolume / (currentFlow * 60 / 20 / 60);
          const hours = Math.floor(timeRemaining / 3600);
          const minutes = Math.floor((timeRemaining % 3600) / 60);
          document.getElementById('timeRemaining').textContent = `${hours}:${minutes.toString().padStart(2, '0')}`;
        }

        // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏≤‡∏ô‡∏∞
        let status = '‡∏õ‡∏Å‡∏ï‡∏¥';
        let statusClass = 'status-active';
        
        if (Math.abs(currentFlow - flowRate) > 3) {
          status = '‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥';
          statusClass = 'status-warning';
        }
        
        if (currentVolume < 50) {
          status = '‡πÉ‡∏Å‡∏•‡πâ‡∏´‡∏°‡∏î';
          statusClass = 'status-critical';
        }

        if (currentVolume <= 0) {
          status = '‡∏´‡∏°‡∏î‡πÅ‡∏•‡πâ‡∏ß';
          statusClass = 'status-critical';
          stopMockFlow();
        }

        document.getElementById('flowStatus').textContent = status;

        // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏•‡∏á localStorage
        const mockData = {
          bedId: bedId,
          currentFlow: currentFlow,
          remainingVolume: currentVolume,
          status: status,
          timestamp: new Date().toISOString()
        };

        localStorage.setItem(`mock_flow_bed_${bedId}`, JSON.stringify(mockData));
      }, 1000);

      updateSystemStats();
    }

    function pauseMockFlow() {
      if (mockFlowInterval) {
        clearInterval(mockFlowInterval);
        mockFlowInterval = null;
      }
    }

    function stopMockFlow() {
      if (mockFlowInterval) {
        clearInterval(mockFlowInterval);
        mockFlowInterval = null;
      }
      
      document.getElementById('flowData').style.display = 'none';
      document.getElementById('flowDisplay').innerHTML = `
        <div style="text-align: center; color: #64748b;">
          <span class="status-indicator status-active"></span>
          <strong>‡∏´‡∏¢‡∏∏‡∏î‡∏Å‡∏≤‡∏£‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÅ‡∏•‡πâ‡∏ß</strong>
        </div>
      `;
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢‡∏™‡∏∏‡πà‡∏°
    function generateRandomPatient() {
      if (!checkMockupAccess()) return;

      const names = ['‡∏™‡∏°‡∏ä‡∏≤‡∏¢ ‡πÉ‡∏à‡∏î‡∏µ', '‡∏™‡∏°‡∏´‡∏ç‡∏¥‡∏á ‡∏™‡∏ß‡∏¢‡∏á‡∏≤‡∏°', '‡∏ô‡∏≤‡∏¢‡∏´‡∏ô‡∏∂‡πà‡∏á ‡∏î‡∏µ‡∏°‡∏≤‡∏Å', '‡∏ô‡∏≤‡∏á‡∏™‡∏≠‡∏á ‡∏á‡∏≤‡∏°‡∏î‡∏µ', '‡∏Ñ‡∏∏‡∏ì‡∏™‡∏≤‡∏° ‡∏¢‡∏≠‡∏î‡πÄ‡∏¢‡∏µ‡πà‡∏¢‡∏°'];
      const medications = ['Normal Saline', 'Ringer Lactate', 'Dextrose 5%', 'Dextrose 10%'];
      const volumes = [250, 500, 1000];
      
      const patientData = {
        patient_id: names[Math.floor(Math.random() * names.length)],
        medication: medications[Math.floor(Math.random() * medications.length)],
        volume: volumes[Math.floor(Math.random() * volumes.length)],
        rate: Math.floor(Math.random() * 50) + 10,
        timestamp: new Date().toISOString()
      };

      const bedId = document.getElementById('mockBedSelect').value;
      dataManager.savePatient(bedId, patientData);

      document.getElementById('patientDisplay').innerHTML = `
        <div class="mock-data">
          <div class="data-item">
            <div class="data-label">‡∏ä‡∏∑‡πà‡∏≠‡∏ú‡∏π‡πâ‡∏õ‡πà‡∏ß‡∏¢</div>
            <div class="data-value" style="font-size: 16px;">${patientData.patient_id}</div>
          </div>
          <div class="data-item">
            <div class="data-label">‡∏¢‡∏≤</div>
            <div class="data-value" style="font-size: 14px;">${patientData.medication}</div>
          </div>
          <div class="data-item">
            <div class="data-label">‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì</div>
            <div class="data-value">${patientData.volume}</div>
            <div class="data-unit">mL</div>
          </div>
          <div class="data-item">
            <div class="data-label">‡∏≠‡∏±‡∏ï‡∏£‡∏≤</div>
            <div class="data-value">${patientData.rate}</div>
            <div class="data-unit">‡∏î‡∏£‡∏≠‡∏õ/‡∏ô‡∏≤‡∏ó‡∏µ</div>
          </div>
        </div>
      `;

      mockDataCount++;
      updateSystemStats();
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á Vital Signs
    function generateVitalSigns() {
      if (!checkMockupAccess()) return;

      const vitalsData = {
        systolic: Math.floor(Math.random() * 40) + 100,
        diastolic: Math.floor(Math.random() * 20) + 60,
        heartRate: Math.floor(Math.random() * 40) + 60,
        temperature: (Math.random() * 2 + 36).toFixed(1),
        oxygen: Math.floor(Math.random() * 5) + 95,
        timestamp: new Date().toISOString()
      };

      const bedId = document.getElementById('mockBedSelect').value;
      dataManager.saveVitals(bedId, vitalsData);

      document.getElementById('patientDisplay').innerHTML = `
        <div class="mock-data">
          <div class="data-item">
            <div class="data-label">BP</div>
            <div class="data-value" style="font-size: 16px;">${vitalsData.systolic}/${vitalsData.diastolic}</div>
          </div>
          <div class="data-item">
            <div class="data-label">HR</div>
            <div class="data-value">${vitalsData.heartRate}</div>
            <div class="data-unit">bpm</div>
          </div>
          <div class="data-item">
            <div class="data-label">Temp</div>
            <div class="data-value">${vitalsData.temperature}</div>
            <div class="data-unit">¬∞C</div>
          </div>
          <div class="data-item">
            <div class="data-label">O2 Sat</div>
            <div class="data-value">${vitalsData.oxygen}</div>
            <div class="data-unit">%</div>
          </div>
        </div>
      `;

      mockDataCount++;
      updateSystemStats();
    }

    // ‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• I/O
    function generateIOData() {
      if (!checkMockupAccess()) return;

      const ioData = {
        totalIn: Math.floor(Math.random() * 1000) + 500,
        totalOut: Math.floor(Math.random() * 800) + 400,
        balance: 0,
        timestamp: new Date().toISOString()
      };

      ioData.balance = ioData.totalIn - ioData.totalOut;

      const bedId = document.getElementById('mockBedSelect').value;
      dataManager.saveIORecord(bedId, ioData);

      document.getElementById('patientDisplay').innerHTML = `
        <div class="mock-data">
          <div class="data-item">
            <div class="data-label">Input</div>
            <div class="data-value">${ioData.totalIn}</div>
            <div class="data-unit">mL</div>
          </div>
          <div class="data-item">
            <div class="data-label">Output</div>
            <div class="data-value">${ioData.totalOut}</div>
            <div class="data-unit">mL</div>
          </div>
          <div class="data-item">
            <div class="data-label">Balance</div>
            <div class="data-value" style="color: ${ioData.balance >= 0 ? '#10b981' : '#ef4444'}">
              ${ioData.balance > 0 ? '+' : ''}${ioData.balance}
            </div>
            <div class="data-unit">mL</div>
          </div>
        </div>
      `;

      mockDataCount++;
      updateSystemStats();
    }

    // ‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
    function triggerMockAlert(type) {
      if (!checkMockupAccess()) return;

      const alertMessages = {
        normal: ['‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÄ‡∏ï‡∏µ‡∏¢‡∏á', '‡∏õ‡∏£‡∏±‡∏ö‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•', '‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏• Vital Signs'],
        warning: ['‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏ú‡∏¥‡∏î‡∏õ‡∏Å‡∏ï‡∏¥', '‡∏õ‡∏£‡∏¥‡∏°‡∏≤‡∏ì‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡πÄ‡∏´‡∏•‡∏∑‡∏≠‡∏ô‡πâ‡∏≠‡∏¢', '‡∏ï‡∏£‡∏ß‡∏à‡∏™‡∏≠‡∏ö‡∏™‡∏≤‡∏¢‡∏¢‡∏≤‡∏á'],
        critical: ['‡∏ô‡πâ‡∏≥‡πÄ‡∏Å‡∏•‡∏∑‡∏≠‡∏´‡∏°‡∏î - ‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ó‡∏±‡∏ô‡∏ó‡∏µ!', '‡∏≠‡∏±‡∏ï‡∏£‡∏≤‡∏Å‡∏≤‡∏£‡πÑ‡∏´‡∏•‡∏´‡∏¢‡∏∏‡∏î!', '‡∏£‡∏∞‡∏ö‡∏ö‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏â‡∏∏‡∏Å‡πÄ‡∏â‡∏¥‡∏ô!']
      };

      const colors = {
        normal: '#10b981',
        warning: '#f59e0b',
        critical: '#ef4444'
      };

      const message = alertMessages[type][Math.floor(Math.random() * alertMessages[type].length)];
      const bedId = document.getElementById('mockBedSelect').value;

      const alertData = {
        id: Date.now().toString(),
        type: type,
        message: message,
        bedId: bedId,
        timestamp: new Date().toLocaleString('th-TH')
      };

      // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô
      dataManager.saveAlert(bedId, alertData);

      // ‡πÅ‡∏™‡∏î‡∏á‡πÉ‡∏ô‡∏´‡∏ô‡πâ‡∏≤‡∏à‡∏≠
      const alertLog = document.getElementById('alertLog');
      if (mockAlertCount === 0) {
        alertLog.innerHTML = '';
      }

      const alertElement = document.createElement('div');
      alertElement.style.cssText = `
        padding: 10px;
        margin: 5px 0;
        border-radius: 8px;
        border-left: 4px solid ${colors[type]};
        background: ${colors[type]}15;
        font-size: 14px;
      `;
      
      alertElement.innerHTML = `
        <div style="font-weight: 600; color: ${colors[type]};">
          ${type.toUpperCase()} - ‡πÄ‡∏ï‡∏µ‡∏¢‡∏á ${bedId}
        </div>
        <div style="color: #374151; margin-top: 5px;">${message}</div>
        <div style="color: #64748b; font-size: 12px; margin-top: 5px;">${alertData.timestamp}</div>
      `;

      alertLog.insertBefore(alertElement, alertLog.firstChild);

      mockAlertCount++;
      updateSystemStats();

      // ‡πÄ‡∏•‡∏∑‡πà‡∏≠‡∏ô‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡πÄ‡∏Å‡πà‡∏≤‡∏≠‡∏≠‡∏Å
      if (alertLog.children.length > 5) {
        alertLog.removeChild(alertLog.lastChild);
      }
    }

    // ‡∏≠‡∏±‡∏û‡πÄ‡∏î‡∏ó‡∏™‡∏ñ‡∏¥‡∏ï‡∏¥‡∏£‡∏∞‡∏ö‡∏ö
    function updateSystemStats() {
      let activeBeds = 0;
      for (let i = 1; i <= 8; i++) {
        if (dataManager.getPatient(i)) {
          activeBeds++;
        }
      }

      document.getElementById('activeBeds').textContent = activeBeds;
      document.getElementById('totalAlerts').textContent = mockAlertCount;
      document.getElementById('mockDataCount').textContent = mockDataCount;
    }

    // ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    function saveAllMockData() {
      const mockSummary = {
        activeBeds: parseInt(document.getElementById('activeBeds').textContent),
        totalAlerts: mockAlertCount,
        mockDataCount: mockDataCount,
        timestamp: new Date().toISOString(),
        savedBy: 'Mock-up System'
      };

      localStorage.setItem('mock_summary', JSON.stringify(mockSummary));
      alert('‚úÖ ‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
    }

    // ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
    function clearAllMockData() {
      if (confirm('‚ö†Ô∏è ‡∏Ñ‡∏∏‡∏ì‡∏ï‡πâ‡∏≠‡∏á‡∏Å‡∏≤‡∏£‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡∏´‡∏£‡∏∑‡∏≠‡πÑ‡∏°‡πà?')) {
        stopMockFlow();
        
        for (let i = 1; i <= 8; i++) {
          dataManager.clearBedData(i);
          localStorage.removeItem(`mock_flow_bed_${i}`);
        }

        localStorage.removeItem('mock_summary');
        
        mockAlertCount = 0;
        mockDataCount = 0;
        
        document.getElementById('alertLog').innerHTML = `
          <div style="text-align: center; color: #64748b;">
            <strong>‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÅ‡∏•‡πâ‡∏ß</strong>
          </div>
        `;
        
        document.getElementById('patientDisplay').innerHTML = `
          <div style="text-align: center; color: #64748b;">
            <strong>‡∏Å‡∏î‡∏õ‡∏∏‡πà‡∏°‡πÄ‡∏û‡∏∑‡πà‡∏≠‡∏™‡∏£‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á</strong>
          </div>
        `;

        updateSystemStats();
        alert('‚úÖ ‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
      }
    }

    // Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•
    function exportMockData() {
      const exportData = {
        summary: JSON.parse(localStorage.getItem('mock_summary') || '{}'),
        bedData: {},
        alerts: mockAlertCount,
        exportedAt: new Date().toISOString()
      };

      for (let i = 1; i <= 8; i++) {
        exportData.bedData[`bed_${i}`] = dataManager.exportBedData(i);
      }

      const dataStr = JSON.stringify(exportData, null, 2);
      const dataBlob = new Blob([dataStr], {type: 'application/json'});
      const url = URL.createObjectURL(dataBlob);
      
      const link = document.createElement('a');
      link.href = url;
      link.download = `nursebuddy_mockup_${new Date().toISOString().split('T')[0]}.json`;
      link.click();

      URL.revokeObjectURL(url);
      alert('üì§ Export ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡πÄ‡∏£‡∏µ‡∏¢‡∏ö‡∏£‡πâ‡∏≠‡∏¢‡πÅ‡∏•‡πâ‡∏ß');
    }

    // ‡πÄ‡∏£‡∏¥‡πà‡∏°‡∏ï‡πâ‡∏ô‡∏£‡∏∞‡∏ö‡∏ö
    document.addEventListener('DOMContentLoaded', function() {
      if (!checkMockupAccess()) return;
      
      updateSystemStats();
      
      // ‡πÇ‡∏´‡∏•‡∏î‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏à‡∏≥‡∏•‡∏≠‡∏á‡∏ó‡∏µ‡πà‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡πÑ‡∏ß‡πâ
      const mockSummary = JSON.parse(localStorage.getItem('mock_summary') || 'null');
      if (mockSummary) {
        mockAlertCount = mockSummary.totalAlerts || 0;
        mockDataCount = mockSummary.mockDataCount || 0;
        updateSystemStats();
      }
    });
  </script>
</body>
</html>
